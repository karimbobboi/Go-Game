{"version":3,"file":"index.umd.js","sources":["../../../../src/directives/BPopover/index.ts"],"sourcesContent":["import {type Directive} from 'vue'\nimport {\n  bind,\n  type ElementWithPopper,\n  resolveActiveStatus,\n  resolveContent,\n  resolveDirectiveProps,\n  unbind,\n} from '../../utils/floatingUi'\nimport {defaultsKey} from '../../utils/keys'\n\nexport const vBPopover: Directive<ElementWithPopper> = {\n  mounted(el, binding) {\n    const defaults = binding.instance?.$.appContext?.provides?.[defaultsKey as symbol]?.value\n    const isActive = resolveActiveStatus(binding.value)\n    if (!isActive) return\n\n    const text = resolveContent(binding.value, el)\n\n    if (!text.content && !text.title) return\n    el.$__binding = JSON.stringify([binding.modifiers, binding.value])\n    bind(el, binding, {\n      ...(defaults['BPopover'] || {}),\n      ...resolveDirectiveProps(binding, el),\n      ...text,\n    })\n  },\n  updated(el, binding) {\n    const defaults = binding.instance?.$.appContext?.provides?.[defaultsKey as symbol]?.value\n\n    const isActive = resolveActiveStatus(binding.value)\n    if (!isActive) return\n\n    const text = resolveContent(binding.value, el)\n\n    if (!text.content && !text.title) return\n    delete binding.oldValue\n    if (el.$__binding === JSON.stringify([binding.modifiers, binding.value])) return\n    unbind(el)\n    bind(el, binding, {\n      ...(defaults['BPopover'] || {}),\n      ...resolveDirectiveProps(binding, el),\n      ...text,\n    })\n    el.$__binding = JSON.stringify([binding.modifiers, binding.value])\n  },\n  beforeUnmount(el) {\n    unbind(el)\n  },\n}\n"],"names":["vBPopover","mounted","el","binding","defaults","_d","_c","_b","_a","instance","$","appContext","provides","defaultsKey","value","resolveActiveStatus","text","resolveContent","content","title","$__binding","JSON","stringify","modifiers","floatingUi","bind","resolveDirectiveProps","updated","oldValue","unbind","beforeUnmount"],"mappings":"yLAWaA,EAA0C,CACrD,OAAAC,CAAQC,EAAIC,eACJ,MAAAC,EAAW,OAAAC,EAAA,OAAQC,EAAR,OAAQC,EAAR,OAAQC,EAAAL,EAAAM,eAAU,EAAAD,EAAAE,EAAEC,iBAApB,EAAAJ,EAAgCK,eAAhC,EAAAN,EAA2CO,qBAAwB,EAAAR,EAAAS,MAEpF,IADiBC,EAAAA,oBAAoBZ,EAAQW,OAC9B,OAEf,MAAME,EAAOC,EAAAA,eAAed,EAAQW,MAAOZ,IAEtCc,EAAKE,SAAYF,EAAKG,SACxBjB,EAAAkB,WAAaC,KAAKC,UAAU,CAACnB,EAAQoB,UAAWpB,EAAQW,QAC3DU,EAAAC,KAAKvB,EAAIC,EAAS,IACZC,EAAmB,UAAK,CAAC,KAC1BsB,EAAsBA,sBAAAvB,EAASD,MAC/Bc,IAEP,EACA,OAAAW,CAAQzB,EAAIC,eACJ,MAAAC,EAAW,OAAAC,EAAA,OAAQC,EAAR,OAAQC,EAAR,OAAQC,EAAAL,EAAAM,eAAU,EAAAD,EAAAE,EAAEC,iBAApB,EAAAJ,EAAgCK,eAAhC,EAAAN,EAA2CO,qBAAwB,EAAAR,EAAAS,MAGpF,IADiBC,EAAAA,oBAAoBZ,EAAQW,OAC9B,OAEf,MAAME,EAAOC,EAAAA,eAAed,EAAQW,MAAOZ,IAEtCc,EAAKE,SAAYF,EAAKG,gBACpBhB,EAAQyB,SACX1B,EAAGkB,aAAeC,KAAKC,UAAU,CAACnB,EAAQoB,UAAWpB,EAAQW,UACjEe,EAAAA,OAAO3B,GACPsB,EAAAC,KAAKvB,EAAIC,EAAS,IACZC,EAAmB,UAAK,CAAC,KAC1BsB,EAAsBA,sBAAAvB,EAASD,MAC/Bc,IAEFd,EAAAkB,WAAaC,KAAKC,UAAU,CAACnB,EAAQoB,UAAWpB,EAAQW,SAC7D,EACA,aAAAgB,CAAc5B,GACZ2B,EAAAA,OAAO3B,EACT"}