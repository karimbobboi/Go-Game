"use strict";const e=require("vue"),l=require("./useDefaults-C2groUjC.js"),a=require("./useId-D-t4Y3Sk.js"),t=require("./index-CnY1um_J.js"),o=require("./keys-Dkmt9nlW.js"),i=require("./classes-CXBJXuVd.js"),s=require("./dom-C-F8jHop.js"),u=e.defineComponent({inheritAttrs:!1,__name:"BCollapse",props:e.mergeModels({horizontal:{type:Boolean,default:!1},id:{default:void 0},isNav:{type:Boolean,default:!1},skipAnimation:{type:Boolean,default:!1},tag:{default:"div"},toggle:{type:Boolean,default:!1},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:e.mergeModels(["hidden","hide","hide-prevented","show","show-prevented","shown"],["update:modelValue"]),setup(u,{expose:n,emit:r}){const v=u,d=l.useDefaults(v,"BCollapse"),c=r,h=(e,l={})=>new i.BvTriggerableEvent(e,{cancelable:!1,target:m.value||null,relatedTarget:null,trigger:null,...l,componentId:g.value}),p=e.useModel(u,"modelValue"),g=a.useId((()=>d.id),"collapse"),m=e.ref(null),f=e.ref(!1),y=e.ref(p.value),w=e.computed((()=>({show:y.value,"navbar-collapse":d.isNav,collapsing:f.value,closing:y.value&&!p.value,"collapse-horizontal":d.horizontal}))),k=()=>{p.value=!1},T=()=>{p.value=!0},x=()=>{p.value=!p.value},B=e.computed((()=>({toggle:x,show:T,hide:k,id:g.value,visible:p.value})));let b,P,z=d.skipAnimation;return e.watch(p,(()=>{p.value?(()=>{const l=h("show",{cancelable:!0});c("show",l),l.defaultPrevented?c("show-prevented"):(clearTimeout(P),clearTimeout(b),y.value=!0,z||(f.value=!0,e.nextTick((()=>{null!==m.value&&(d.horizontal?m.value.style.width=`${m.value.scrollWidth}px`:m.value.style.height=`${m.value.scrollHeight}px`,b=setTimeout((()=>{f.value=!1,c("shown"),null!==m.value&&(m.value.style.height="",m.value.style.width="")}),s.getTransitionDelay(m.value)))}))))})():(()=>{const l=h("hide",{cancelable:!0});c("hide",l),l.defaultPrevented?c("hide-prevented"):(clearTimeout(b),clearTimeout(P),null!==m.value&&(z?y.value=!1:(f.value?(m.value.style.height="",m.value.style.width=""):d.horizontal?m.value.style.width=`${m.value.scrollWidth}px`:m.value.style.height=`${m.value.scrollHeight}px`,m.value.offsetHeight,f.value=!0,e.nextTick((()=>{null!==m.value&&(m.value.style.height="",m.value.style.width="",P=setTimeout((()=>{y.value=!1,f.value=!1,c("hidden")}),s.getTransitionDelay(m.value)))})))))})()})),e.onMounted((()=>{null!==m.value&&!p.value&&d.toggle&&e.nextTick((()=>{p.value=!0}))})),e.watch((()=>d.skipAnimation),(e=>{z=e})),d.visible&&(z=!0,p.value=!0,e.nextTick((()=>{z=d.skipAnimation}))),e.watch((()=>d.visible),(l=>{z=!0,l?T():k(),e.nextTick((()=>{z=d.skipAnimation}))})),t.useEventListener(m,"bv-toggle",(()=>{p.value=!p.value})),n({hide:k,isNav:d.isNav,show:T,toggle:x,visible:e.readonly(y)}),e.provide(o.collapseInjectionKey,{id:g,hide:k,show:T,toggle:x,visible:e.readonly(y),isNav:e.toRef((()=>d.isNav))}),(l,a)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.renderSlot(l.$slots,"header",e.normalizeProps(e.guardReactiveProps(B.value))),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(d).tag),e.mergeProps({id:e.unref(g),ref_key:"element",ref:m,class:["collapse",w.value],"is-nav":e.unref(d).isNav},l.$attrs),{default:e.withCtx((()=>[e.renderSlot(l.$slots,"default",e.normalizeProps(e.guardReactiveProps(B.value)))])),_:3},16,["id","class","is-nav"])),e.renderSlot(l.$slots,"footer",e.normalizeProps(e.guardReactiveProps(B.value)))],64))}});exports._sfc_main=u;
//# sourceMappingURL=BCollapse.vue_vue_type_script_setup_true_lang-BFjLbbnW.js.map
