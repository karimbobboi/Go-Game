"use strict";const e=require("vue"),l=require("./classes-CXBJXuVd.js"),t=require("./useId-D-t4Y3Sk.js"),a=require("./index-CnY1um_J.js"),o=require("./useDefaults-C2groUjC.js"),n=require("./keys-Dkmt9nlW.js"),r=require("./index-BInTFWT4.js"),u=require("./BImg.vue_vue_type_script_setup_true_lang-OsBsaOdz.js"),i=require("./dom-C-F8jHop.js"),s=["id"],c={key:0,class:"carousel-indicators"},d=["aria-current","aria-label","onClick"],v={class:"visually-hidden"},m={class:"visually-hidden"},f=e.defineComponent({__name:"BCarousel",props:e.mergeModels({background:{default:void 0},controls:{type:Boolean,default:!1},controlsNextText:{default:"Next"},controlsPrevText:{default:"Previous"},fade:{type:Boolean,default:!1},id:{default:void 0},imgHeight:{default:void 0},imgWidth:{default:void 0},indicators:{type:Boolean,default:!1},indicatorsButtonLabel:{default:"Slide"},interval:{default:5e3},keyboard:{type:Boolean,default:!0},noAnimation:{type:Boolean,default:!1},noHoverPause:{type:Boolean,default:!1},noTouch:{type:Boolean,default:!1},noWrap:{type:Boolean,default:!1},ride:{type:[Boolean,String],default:!1},rideReverse:{type:Boolean,default:!1},touchThreshold:{default:50}},{modelValue:{default:0},modelModifiers:{}}),emits:e.mergeModels(["slide","slid","click:prev","click:next"],["update:modelValue"]),setup(u,{expose:i,emit:f}){const p=u,k=o.useDefaults(p,"BCarousel"),g=f,y=e.useSlots(),B=t.useId((()=>k.id),"carousel"),h=e.useModel(u,"modelValue"),b=e.ref(null),x=r.useToNumber((()=>k.touchThreshold)),C=e.ref(null);e.onMounted((()=>{var e,l;C.value=(null==(l=null==(e=b.value)?void 0:e.find((e=>"none"!==e.$el.style.display)))?void 0:l._interval)??null}));const S=r.useToNumber((()=>C.value??k.interval)),_=e.ref(!1),E=e.ref(!1),T=e.ref(!0),V=e.ref(null),w=e.ref(null),H=e.ref(h.value),N=a.useElementHover(w),$=e.computed((()=>`carousel-item carousel-item-${T.value?"prev":"next"} carousel-item-${T.value?"end":"start"}`)),D=e.computed((()=>"carousel-item active carousel-item-"+(T.value?"start":"end"))),{pause:L,resume:j}=r.useIntervalFn((()=>{k.rideReverse?P():R()}),S,{immediate:"carousel"===k.ride}),q=e.computed((()=>!0===k.ride&&!0===E.value||"carousel"===k.ride)),M=e.computed((()=>{return e=y.default,l="BCarouselSlide",((null==e?void 0:e())??[]).reduce(((e,l)=>("symbol"==typeof l.type?e=e.concat(l.children):e.push(l),e)),[]).filter((e=>{var t;return(null==(t=e.type)?void 0:t.__name)===l}));var e,l})),A=e.computed((()=>({"carousel-fade":k.fade}))),W=e=>{var t;return new l.BvCarouselEvent(e,{componentId:B.value,cancelable:!1,target:w.value,direction:T.value?"right":"left",from:H.value,to:h.value,relatedTarget:(null==(t=V.value)?void 0:t.children[h.value])??null})},I=e=>{if(!0!==_.value)if(!0===k.ride&&(E.value=!0),!0===q.value&&j(),T.value=!(e<h.value),e>=M.value.length){if(k.noWrap)return;h.value=0}else if(e<0){if(k.noWrap)return;h.value=M.value.length-1}else H.value=h.value,h.value=e},P=()=>{I(h.value-1)},R=()=>{I(h.value+1)},z=e=>{!1!==k.keyboard&&e()},{lengthX:F}=a.useSwipe(w,{passive:!0,onSwipeStart(){!0!==k.noTouch&&L()},onSwipeEnd(){if(!0===k.noTouch)return;const e=()=>{!1!==q.value&&j()};if(F.value>=x.value)return R(),void e();F.value<=-x.value&&(P(),e())}}),K=()=>{g("slide",W("slide")),_.value=!0},U=()=>{g("slid",W("slid")),_.value=!1},X=e=>{0!==h.value&&e.classList.add("carousel-item")},G=e=>{var l,t;C.value=(null==(t=null==(l=b.value)?void 0:l.find((l=>l.$el===e)))?void 0:t._interval)??null};a.onKeyStroke("ArrowLeft",(()=>{z(P)}),{target:w}),a.onKeyStroke("ArrowRight",(()=>{z(R)}),{target:w}),e.watch((()=>k.ride),(()=>{E.value=!1})),e.watch(N,(e=>{e?k.noHoverPause||L():q.value&&j()}));const J=e=>{g("click:prev",e),e.defaultPrevented||P()},O=e=>{g("click:next",e),e.defaultPrevented||R()};return i({next:R,pause:L,prev:P,resume:j}),e.provide(n.carouselInjectionKey,{background:e.toRef((()=>k.background)),width:e.toRef((()=>k.imgWidth)),height:e.toRef((()=>k.imgHeight))}),(l,t)=>(e.openBlock(),e.createElementBlock("div",{id:e.unref(B),ref_key:"element",ref:w,class:e.normalizeClass(["carousel slide pointer-event",A.value])},[e.unref(k).indicators?(e.openBlock(),e.createElementBlock("div",c,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M.value.length,((l,t)=>(e.openBlock(),e.createElementBlock("button",{key:t,type:"button","data-bs-target":"",class:e.normalizeClass(t===h.value?"active":""),"aria-current":t===h.value||void 0,"aria-label":`${e.unref(k).indicatorsButtonLabel} ${t}`,onClick:e=>I(t)},null,10,d)))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"relatedTarget",ref:V,class:"carousel-inner"},[e.createVNode(e.TransitionGroup,{"enter-from-class":$.value,"enter-active-class":$.value,"enter-to-class":$.value,"leave-from-class":D.value,"leave-active-class":D.value,"leave-to-class":D.value,onBeforeLeave:K,onAfterLeave:U,onAfterEnter:X,onEnter:G},{default:e.withCtx((()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M.value,((l,t)=>e.withDirectives((e.openBlock(),e.createBlock(e.resolveDynamicComponent(l),{key:t,ref_for:!0,ref_key:"slideValues",ref:b,class:e.normalizeClass({active:t===h.value&&!1===_.value}),style:e.normalizeStyle(e.unref(k).noAnimation&&{transition:"none"})},null,8,["class","style"])),[[e.vShow,t===h.value]]))),128))])),_:1},8,["enter-from-class","enter-active-class","enter-to-class","leave-from-class","leave-active-class","leave-to-class"])],512),e.unref(k).controls?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{class:"carousel-control-prev",type:"button",onClick:J},[t[0]||(t[0]=e.createElementVNode("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1)),e.createElementVNode("span",v,e.toDisplayString(e.unref(k).controlsPrevText),1)]),e.createElementVNode("button",{class:"carousel-control-next",type:"button",onClick:O},[t[1]||(t[1]=e.createElementVNode("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1)),e.createElementVNode("span",m,e.toDisplayString(e.unref(k).controlsNextText),1)])],64)):e.createCommentVNode("",!0)],10,s))}}),p=["innerHTML"],k={key:1},g=["innerHTML"],y={key:1},B=e.defineComponent({__name:"BCarouselSlide",props:{background:{default:void 0},caption:{default:void 0},captionHtml:{default:void 0},captionTag:{default:"h3"},contentTag:{default:"div"},contentVisibleUp:{default:void 0},id:{default:void 0},imgAlt:{default:void 0},imgBlank:{type:Boolean,default:!1},imgBlankColor:{default:"transparent"},imgHeight:{default:void 0},imgSrc:{default:void 0},imgSrcset:{default:void 0},imgWidth:{default:void 0},interval:{default:void 0},text:{default:void 0},textHtml:{default:void 0},textTag:{default:"p"}},setup(l,{expose:t}){const a=l,r=o.useDefaults(a,"BCarouselSlide"),s=e.useSlots(),c=e.inject(n.carouselInjectionKey,null),d=e.computed((()=>r.text||r.textHtml||!i.isEmptySlot(s.text))),v=e.computed((()=>r.caption||r.captionHtml||!i.isEmptySlot(s.caption))),m=e.computed((()=>d.value||v.value||!i.isEmptySlot(s.default))),f=e.computed((()=>({background:`${r.background||(null==c?void 0:c.background.value)||"rgb(171, 171, 171)"} none repeat scroll 0% 0%`}))),B=e.computed((()=>({"d-none":void 0!==r.contentVisibleUp,[`d-${r.contentVisibleUp}-block`]:void 0!==r.contentVisibleUp})));return t({_interval:e.toRef((()=>r.interval))}),(l,t)=>(e.openBlock(),e.createElementBlock("div",{class:"carousel-item",style:e.normalizeStyle(f.value)},[e.renderSlot(l.$slots,"img",{},(()=>{var l,t;return[e.createVNode(u._sfc_main,{class:"d-block w-100",alt:e.unref(r).imgAlt,srcset:e.unref(r).imgSrcset,src:e.unref(r).imgSrc,width:e.unref(r).imgWidth||(null==(l=e.unref(c))?void 0:l.width.value),height:e.unref(r).imgHeight||(null==(t=e.unref(c))?void 0:t.height.value),blank:e.unref(r).imgBlank,"blank-color":e.unref(r).imgBlankColor},null,8,["alt","srcset","src","width","height","blank","blank-color"])]})),m.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(r).contentTag),{key:0,class:e.normalizeClass(["carousel-caption",B.value])},{default:e.withCtx((()=>[v.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(r).captionTag),{key:0},{default:e.withCtx((()=>[e.renderSlot(l.$slots,"caption",{},(()=>[e.unref(r).captionHtml?(e.openBlock(),e.createElementBlock("span",{key:0,innerHTML:e.unref(r).captionHtml},null,8,p)):(e.openBlock(),e.createElementBlock("span",k,e.toDisplayString(e.unref(r).caption),1))]))])),_:3})):e.createCommentVNode("",!0),d.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(r).textTag),{key:1},{default:e.withCtx((()=>[e.renderSlot(l.$slots,"text",{},(()=>[e.unref(r).textHtml?(e.openBlock(),e.createElementBlock("span",{key:0,innerHTML:e.unref(r).textHtml},null,8,g)):(e.openBlock(),e.createElementBlock("span",y,e.toDisplayString(e.unref(r).text),1))]))])),_:3})):e.createCommentVNode("",!0),e.renderSlot(l.$slots,"default")])),_:3},8,["class"])):e.createCommentVNode("",!0)],4))}});exports._sfc_main=f,exports._sfc_main$1=B;
//# sourceMappingURL=BCarouselSlide.vue_vue_type_script_setup_true_lang-CXuFqIG4.js.map
